<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Made in Sud - Menu</title>

<style>
  :root { --black: #000; }
  html, body {
    height: 100%; margin: 0;
    background: url('sfondo.jpg') no-repeat center center/cover;
    font-family: 'Fontspring-DEMO-modica-bold', sans-serif;
  }

  @font-face { font-family: 'Fontspring-DEMO-modica-bold'; src: url('fonts/Fontspring-DEMO-modica-bold.otf') format('opentype'); }
  @font-face { font-family: 'Fontspring-DEMO-modica-thin'; src: url('fonts/Fontspring-DEMO-modica-thin.otf') format('opentype'); }
  @font-face { font-family: 'Fontspring-DEMO-modica-regular'; src: url('fonts/Fontspring-DEMO-modica-regular.otf') format('opentype'); }
  @font-face { font-family: 'ArialRoundedMTBold'; src: url('fonts/Arial Rounded MT Bold.otf') format('opentype'); }

  .phone { width: 390px; max-width: 100%; margin: 0 auto; padding: 18px; box-sizing: border-box; }

  /* LOGO + animazione */
  .logo { position: relative; overflow: hidden; }
  .logo img { width: 100%; height: auto; display: block; transition: opacity 0.4s ease; position: absolute; top: 0; left: 0; }
  .logo img:first-child { position: relative; }
  .logo.animate img { animation: bounceFadeIn 0.65s ease-out; }
  @keyframes bounceFadeIn {
    0% { opacity: 0; transform: scale(0.8) rotate(-3deg); filter: blur(6px); }
    60% { opacity: 1; transform: scale(1.05) rotate(2deg); filter: blur(0px); }
    80% { transform: scale(0.97) rotate(-1deg); }
    100% { transform: scale(1) rotate(0deg); }
  }

  .menu { margin-top: 38px; display: flex; flex-direction: column; gap: 18px; }
  .menu-item { display: flex; justify-content: space-between; align-items: center; font-size: 34px; color: var(--black); cursor: pointer; padding: 8px 0; user-select: none; font-family: 'Fontspring-DEMO-modica-bold'; }
  .menu-item .plus { font-family: 'ArialRoundedMTBold'; font-size: 34px; font-weight: bold; transition: transform 0.28s ease; display: inline-block; }
  .menu-item.open .plus { transform: rotate(180deg); }

  .submenu { overflow: hidden; max-height: 0; opacity: 0; transform: translateY(-6px); transition: max-height 0.45s cubic-bezier(.2,.9,.2,1), opacity 0.35s ease, transform 0.35s ease; }
  .submenu.open { max-height: 500px; opacity: 1; transform: translateY(0); }
  .submenu .submenu-item { padding: 8px 0 8px 18px; font-size: 22px; color: var(--black); opacity: 0; transform: translateY(6px); transition: transform 0.35s ease, opacity 0.35s ease; display: flex; justify-content: space-between; font-family: 'Fontspring-DEMO-modica-regular'; }
  .submenu.open .submenu-item:nth-child(1){ transition-delay: .04s; opacity:1; transform:none; }
  .submenu.open .submenu-item:nth-child(2){ transition-delay: .08s; opacity:1; transform:none; }
  .submenu.open .submenu-item:nth-child(3){ transition-delay: .12s; opacity:1; transform:none; }
  .submenu.open .submenu-item:nth-child(4){ transition-delay: .16s; opacity:1; transform:none; }
  .submenu.open .submenu-item:nth-child(5){ transition-delay: .20s; opacity:1; transform:none; }
  .submenu.open .submenu-item:nth-child(6){ transition-delay: .24s; opacity:1; transform:none; }

  @media (max-width:420px) {
    .menu-item{ font-size:30px; }
    .menu-item .plus{ font-size:30px; }
    .submenu .submenu-item{ font-size:20px; }
  }
</style>
</head>
<body>
  <div class="phone">
    <header class="logo" id="logoWrapper">
      <img id="mainLogo" src="logo.png" alt="Made in Sud Pizza">
      <img id="tempLogo" src="" alt="" style="opacity:0;">
    </header>

    <nav class="menu">
      <!-- Antipasti -->
      <div class="menu-item" data-target="antipastiList" data-logo="antipasti.png">
        <span class="label">Antipasti</span><span class="plus">+</span>
      </div>
      <div id="antipastiList" class="submenu">
        <div class="submenu-item"><span>Gulash</span><span>10€</span></div>
        <div class="submenu-item"><span>Lumache</span><span>15€</span></div>
        <div class="submenu-item"><span>Polipo Arrosto</span><span>13€</span></div>
        <div class="submenu-item"><span>Cozze Fritte</span><span>10€</span></div>
        <div class="submenu-item"><span>Verdure Grigliate</span><span>7€</span></div>
        <div class="submenu-item"><span>Uccelletti</span><span>6€</span></div>
      </div>

      <!-- Friggitoria -->
      <div class="menu-item" data-target="friggitoriaList" data-logo="friggitoria.png">
        <span class="label">Friggitoria</span><span class="plus">+</span>
      </div>
      <div id="friggitoriaList" class="submenu">
        <div class="submenu-item"><span>Supplì</span><span>2€</span></div>
        <div class="submenu-item"><span>Arancini</span><span>3€</span></div>
      </div>
    </nav>
  </div>

<script>
  const logoWrapper = document.getElementById("logoWrapper");
  const logoImg = document.getElementById("mainLogo");
  const tempLogo = document.getElementById("tempLogo");
  const defaultLogo = "logo.png"; // logo di default

  function crossfadeLogo(newSrc) {
    tempLogo.src = newSrc;
    tempLogo.style.opacity = 0;
    tempLogo.style.zIndex = 2;
    logoImg.style.zIndex = 1;

    requestAnimationFrame(() => {
      tempLogo.style.transition = "opacity 0.4s ease";
      tempLogo.style.opacity = 1;
      logoImg.style.opacity = 0;
    });

    setTimeout(() => {
      logoImg.src = newSrc;
      logoImg.style.opacity = 1;
      tempLogo.style.opacity = 0;
      logoWrapper.classList.add('animate');
      setTimeout(() => logoWrapper.classList.remove('animate'), 400);
    }, 400);
  }

  document.querySelectorAll('.menu-item').forEach(item => {
    item.addEventListener('click', () => {
      const submenu = document.getElementById(item.dataset.target);
      const logoFile = item.dataset.logo;

      // Chiudi tutte le altre categorie
      document.querySelectorAll('.submenu').forEach(sm => {
        if (sm !== submenu) {
          sm.classList.remove('open');
          sm.previousElementSibling.classList.remove('open');
          sm.previousElementSibling.querySelector('.plus').textContent = '+';
        }
      });

      if (submenu.classList.contains('open')) {
        // Chiudo categoria
        submenu.classList.remove('open');
        item.classList.remove('open');
        item.querySelector('.plus').textContent = '+';
        if (logoFile) crossfadeLogo(defaultLogo);
      } else {
        // Apro categoria
        submenu.classList.add('open');
        item.classList.add('open');
        item.querySelector('.plus').textContent = '−';
        if (logoFile) crossfadeLogo(logoFile);
      }
    });
  });
</script>
</body>
</html>
